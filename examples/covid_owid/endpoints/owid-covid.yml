mxcp: 1.0.0

tool:
  name: "owid_covid"
  description: "Query owid covid data."
  tags: ["owid", "covid"]
  parameters:
    - name: country_code
      type: string
      description: "ISO 3 letter country code to filter by e.g. 'USA', 'GBR', 'PRT'"
    - parameter:
      name: start_date
      type: string
      description: "Start date of the period to filter hospitalizations by. Format: YYYY-MM-DD"
      default: "2020-01-01"
    - parameter:
      name: end_date
      type: string
      description: "End date of the period to filter hospitalizations by. Format: YYYY-MM-DD"
      default: "2025-01-01"
  return:
    type: array
    items:
      type: object
  source:
    code: |
      SELECT * FROM  covid_data WHERE 
      iso_code = $country_code AND
      date BETWEEN $start_date AND $end_date;
  annotations:
    title: "Query covid hospitalizations by country and date"
    readOnlyHint: true
    idempotentHint: true
    openWorldHint: true