mxcp: 1
tool:
  name: search_events
  title: Search Calendar Events
  description: |
    Search for events matching a text query. Searches across event titles, descriptions,
    locations, and attendee information with optional time filtering.
    
    Example usage:
    - "Find all meetings with John" (q: "John")
    - "Search for events about project Alpha" (q: "project Alpha")
    - "Find meetings in the conference room" (q: "conference room")
    - "Show me all standup meetings this month" (q: "standup" with time range)
  tags:
    - google-calendar
    - events
    - search
  annotations:
    readOnlyHint: true
    idempotentHint: true
  parameters:
    - name: q
      type: string
      description: "Free text search query (searches title, description, location, attendees)"
      examples: ["John Smith", "project Alpha", "conference room", "standup meeting"]
    - name: calendar_id
      type: string
      description: "Calendar to search ('primary' or specific calendar ID)"
      default: "primary"
      examples: ["primary", "work@company.com", "team-calendar@company.com"]
    - name: time_min
      type: string
      format: date-time
      description: "Earliest event start time to include (RFC3339 format)"
      default: null
      examples: ["2024-01-15T00:00:00Z", "2024-01-15T09:00:00-08:00"]
    - name: time_max
      type: string
      format: date-time
      description: "Latest event start time to include (RFC3339 format)"
      default: null
      examples: ["2024-01-15T23:59:59Z", "2024-01-15T17:00:00-08:00"]
    - name: max_results
      type: integer
      description: "Maximum number of events to return"
      default: 250
      minimum: 1
      maximum: 2500
      examples: [10, 50, 250]
    - name: page_token
      type: string
      description: "Token for pagination"
      default: null
      examples: ["CAESGjBpNDd2Nmp2Zml2cXRwYjBpOXA", "next_page_token_example"]
  return:
    type: object
    description: "Search results with matching events"
    properties:
      events:
        type: array
        description: "Matching events"
        items:
          type: object
          properties:
            id:
              type: string
              description: "Event identifier"
            summary:
              type: string
              description: "Event title"
            start_time:
              type: string
              format: date-time
              description: "Event start time"
            end_time:
              type: string
              format: date-time
              description: "Event end time"
            location:
              type: string
              description: "Event location"
            description:
              type: string
              description: "Event description"
            htmlLink:
              type: string
              description: "Google Calendar web URL"
      next_page_token:
        type: string
        description: "Token for next page of results"
      total_results:
        type: integer
        description: "Number of results in current page"
    required: ["events"]
  language: python
  source:
    file: ../python/google_calendar_client.py
