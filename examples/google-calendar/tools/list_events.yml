mxcp: 1
tool:
  name: list_events
  title: List Calendar Events
  description: |
    List events from a specific calendar with optional time filtering and pagination.
    Returns events in simplified format optimized for LLM consumption.
    
    Example usage:
    - "What's on my calendar today?" (with time_min/time_max for today)
    - "Show me this week's meetings" (with time range for current week)
    - "List all events in my work calendar" (with specific calendar_id)
    - "What meetings do I have next month?" (with future time range)
  tags:
    - google-calendar
    - events
    - list
  annotations:
    readOnlyHint: true
    idempotentHint: true
  parameters:
    - name: calendar_id
      type: string
      description: "Calendar to query ('primary' or specific calendar ID)"
      default: "primary"
      examples: ["primary", "work@company.com", "team-calendar@company.com"]
    - name: time_min
      type: string
      format: date-time
      description: "Lower bound for event start times (RFC3339 format)"
      default: null
      examples: ["2024-01-15T00:00:00Z", "2024-01-15T09:00:00-08:00"]
    - name: time_max
      type: string
      format: date-time
      description: "Upper bound for event start times (RFC3339 format)"
      default: null
      examples: ["2024-01-15T23:59:59Z", "2024-01-15T17:00:00-08:00"]
    - name: max_results
      type: integer
      description: "Maximum number of events to return"
      default: 250
      minimum: 1
      maximum: 2500
      examples: [10, 50, 250]
    - name: single_events
      type: boolean
      description: "Whether to expand recurring events into instances"
      default: true
      examples: [true, false]
    - name: order_by
      type: string
      description: "Sort order for events"
      enum: ["startTime", "updated"]
      default: "startTime"
      examples: ["startTime", "updated"]
    - name: page_token
      type: string
      description: "Token for pagination"
      default: null
      examples: ["CAESGjBpNDd2Nmp2Zml2cXRwYjBpOXA", "next_page_token_example"]
  return:
    type: object
    description: "Event search results with pagination"
    properties:
      events:
        type: array
        description: "Matching events"
        items:
          type: object
          description: "Complete event information with simplified time handling"
          properties:
            id:
              type: string
              description: "Event identifier"
            summary:
              type: string
              description: "Event title"
            description:
              type: string
              description: "Event description"
            location:
              type: string
              description: "Event location"
            start_time:
              type: string
              format: date-time
              description: "Event start time (timezone-aware)"
            end_time:
              type: string
              format: date-time
              description: "Event end time (timezone-aware)"
            all_day:
              type: boolean
              description: "Whether this is an all-day event"
            time_zone:
              type: string
              description: "Event timezone (if different from calendar)"
            attendees:
              type: array
              description: "Event attendees"
              items:
                type: object
            creator:
              type: object
              description: "Event creator"
            organizer:
              type: object
              description: "Event organizer"
            status:
              type: string
              description: "Event status"
            htmlLink:
              type: string
              description: "Google Calendar web URL for this event"
            created:
              type: string
              format: date-time
              description: "Event creation timestamp (timezone-aware)"
            updated:
              type: string
              format: date-time
              description: "Last update timestamp (timezone-aware)"
            recurrence:
              type: array
              description: "Recurrence rules in RRULE format"
              items:
                type: string
            reminders:
              type: object
              description: "Reminder settings"
            transparency:
              type: string
              description: "Event transparency"
            visibility:
              type: string
              description: "Event visibility"
            calendar_id:
              type: string
              description: "Calendar containing this event"
            etag:
              type: string
              description: "Event ETag for change detection"
      next_page_token:
        type: string
        description: "Token for pagination"
      total_results:
        type: integer
        description: "Total number of matching events"
    required: ["events"]
  language: python
  source:
    file: ../python/google_calendar_client.py
