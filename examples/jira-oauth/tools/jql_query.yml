mxcp: 1

tool:
  name: jql_query
  description: |
    Execute a JQL (Jira Query Language) query to search for issues in your Jira instance.
    Returns a list of issues with their details.
    Use the start and limit parameters to paginate through large result sets.
  type: tool
  annotations:
    title: JQL Query
    readOnlyHint: true
    destructiveHint: false
    idempotentHint: true
    openWorldHint: true
  language: python
  source:
    file: ../python/jira_endpoints.py
  parameters:
    - name: query
      type: string
      description: |
        The JQL query string to execute. Examples:
        - "project = TEST" to find all issues in the TEST project
        - "assignee = currentUser()" to find issues assigned to you
        - "status = 'In Progress'" to find issues in progress
      examples: [
        "project = TEST",
        "status = 'In Progress'",
        "project = TEST AND status = 'Done'",
        "created >= -30d ORDER BY created DESC"
      ]
    - name: start
      type: integer
      description: |
        The index of the first result to return (0-based).
        Use this for pagination: start=0 for first page, start=50 for second page, etc.
        Defaults to 0 if not specified.
      default: 0
      examples: [0, 50, 100]
    - name: limit
      type: integer
      description: |
        Maximum number of results to return.
        If not specified, returns all matching results.
        Recommended to use with start parameter for pagination.
      examples: [50, 100, 200]
      default: null
  return:
    type: array
    items:
      type: object
      properties:
        key:
          type: string
        summary:
          type: string
        status:
          type: string
        assignee:
          type: string
        reporter:
          type: string
        created:
          type: string
        updated:
          type: string
        url:
          type: string
  tests:
    - name: "Basic project query"
      description: "Verify JQL query returns array of issues"
      arguments:
        - key: query
          value: "project = RD"
        - key: limit
          value: 1
    - name: "Status filter query"
      description: "Verify JQL query with status filter"
      arguments:
        - key: query
          value: "status = 'In Progress'"
        - key: limit
          value: 1
